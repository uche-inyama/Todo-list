(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "./src/components/show.js":
/*!********************************!*\
  !*** ./src/components/show.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ \"./src/components/storage.js\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility */ \"./src/utility.js\");\n/* harmony import */ var _components_createProject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/createProject */ \"./src/components/createProject.js\");\n/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./home */ \"./src/components/home.js\");\n\n\n\n\n\nconst show = (() => {\n  const root = document.querySelector('#root');\n  const row = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('div', {\n    class: 'row',\n    id: 'show'\n  });\n\n  const container = document.createElement('div');\n  let showWrapper = document.createElement('div');\n  container.classList.add('container');\n  showWrapper.classList.add('showWrapper');\n  let containerDiv;\n\n  let form;\n\n  const inputNames = [\n    'title',\n    'description',\n    'dueDate',\n    'priority',\n    'category'\n  ];\n\n  root.append(row);\n  row.append(container);\n  container.append(showWrapper);\n\n  const render = project => {\n    if (containerDiv) {\n      containerDiv.parentNode.removeChild(containerDiv);\n    }\n    containerDiv = document.createElement('div');\n    containerDiv.classList.add('containerDiv');\n\n    const header3 = document.createElement('h1');\n    header3.setAttribute('class', 'header3');\n    containerDiv.append(header3);\n\n    _storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getProjects().forEach(element => {\n      if (element.name === project) {\n        header3.innerText = `${project} Todos `;\n        element.todos.forEach((todo, index) => {\n          const containerTodo = document.createElement('div');\n          containerTodo.classList.add('containerTodo');\n          const header5 = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('h5', {}, null, todo.title);\n          const descriptionDiv = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])(\n            'p',\n            {},\n            null,\n            todo.description\n          );\n          const dateTimeDiv = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('div', {}, null, todo.dueDate);\n          const priorityDiv = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('div', {}, null, todo.priority);\n          const categoryDiv = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('div', {}, null, todo.category);\n\n          const deleteButton = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])(\n            'button',\n            {\n              'data-todoId': index,\n              'data-projectId': element.id\n            },\n            'Delete'\n          );\n\n          const editButton = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])(\n            'button',\n            {\n              'data-todoId': index,\n              'data-projectId': element.id,\n              'data-target': 'updateTodo'\n            },\n            'Edit'\n          );\n\n          containerTodo.append(\n            header5,\n            descriptionDiv,\n            dateTimeDiv,\n            priorityDiv,\n            categoryDiv,\n            editButton,\n            deleteButton\n          );\n          containerDiv.appendChild(containerTodo);\n\n          deleteButton.addEventListener('click', deleteTodo);\n          editButton.addEventListener('click', showEditForm);\n\n          showWrapper.appendChild(containerDiv);\n        });\n      }\n    });\n  };\n\n  function showEditForm(evt) {\n    const index = evt.target.dataset.todoid;\n    const projectId = evt.target.dataset.projectid;\n    const header2 = document.createElement('h2');\n    header2.setAttribute('class', 'header2');\n    header2.innerText = 'Update Todo';\n    const todo = _storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTodoItemById(projectId, index);\n\n    const names = {\n      title: todo.title,\n      description: todo.description,\n      dueDate: todo.dueDate,\n      priority: todo.priority,\n      checklist: todo.checklist,\n      category: todo.category\n    };\n\n    const root = document.querySelector('#root');\n    const row = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('div', { class: 'row', id: 'updateTodo' });\n    const container = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('div', { class: 'container' });\n    const wrapper = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('div', { class: 'form-wrapper' });\n\n    const btn = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('input', {\n      type: 'submit',\n      value: 'update todo',\n      'data-target': 'show',\n      'data-todoid': index,\n      'data-projectid': projectId,\n      class: 'updateTodo'\n    });\n\n    form = Object(_utility__WEBPACK_IMPORTED_MODULE_1__[\"createHtmlElement\"])('form');\n\n    root.append(row);\n    row.append(container);\n    container.append(wrapper);\n    wrapper.append(header2, form);\n\n    const newNames = ['title', 'description'];\n    for (const name of newNames) {\n      const input = document.createElement('input');\n      input.setAttribute('type', 'text');\n      input.setAttribute('name', name);\n      input.setAttribute('placeholder', name);\n      input.setAttribute('class', name);\n      form.append(input);\n    }\n    const dueDate = document.createElement('input');\n    dueDate.setAttribute('type', 'date');\n    dueDate.setAttribute('name', 'dueDate');\n    dueDate.setAttribute('class', 'dueDate');\n\n    const priorityArr = ['select priority', 'urgent', 'Important', 'Normal'];\n    const select = document.createElement('select');\n    select.setAttribute('class', 'select');\n    for (const priority of priorityArr) {\n      const option = document.createElement('option');\n      option.setAttribute('type', 'text');\n      option.setAttribute('name', 'select');\n      option.setAttribute('class', priority);\n      option.innerHTML = priority;\n      select.appendChild(option);\n    }\n\n    const checkList = document.createElement('input');\n    checkList.setAttribute('type', 'checkbox');\n    checkList.setAttribute('name', 'checklist');\n    checkList.setAttribute('class', 'checklist');\n\n    const category = document.createElement('input');\n    category.setAttribute('type', 'text');\n    category.setAttribute('name', 'category');\n    category.setAttribute('class', 'category');\n\n    form.append(dueDate, select, category);\n\n    document.querySelector('.title').value = names.title;\n    document.querySelector('.description').value = names.description;\n    document.querySelector('.dueDate').value = names.dueDate;\n    document.querySelector('.category').value = names.category;\n\n    form.append(btn);\n\n    btn.addEventListener('click', updateTodo);\n\n    let currentPage = evt.target.getAttribute('data-target');\n    document.querySelector('.active').classList.remove('active');\n    document.getElementById(currentPage).classList.add('active');\n  }\n\n  function updateTodo(evt) {\n    evt.preventDefault();\n\n    const title = form.querySelector('.title').value;\n    const description = form.querySelector('.description').value;\n    const dueDate = form.querySelector('.dueDate').value;\n    const priority = form.querySelector('.select').value;\n    const category = form.querySelector('.category').value;\n    console.log(form.querySelector('.select'));\n\n    // decoupling should be done here\n    const todo = Object(_components_createProject__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(title, description, dueDate, priority, category);\n\n    _storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateTodoItem(\n      evt.target.dataset.projectid,\n      evt.target.dataset.todoid,\n      todo.toJson()\n    );\n\n    let currentPage = evt.target.getAttribute('data-target');\n    document.querySelector('.active').classList.remove('active');\n    document.getElementById(currentPage).classList.add('active');\n    Object(_home__WEBPACK_IMPORTED_MODULE_3__[\"renderHome\"])();\n    location.reload();\n  }\n\n  function deleteTodo(evt) {\n    const { projectid, todoid } = evt.target.dataset;\n    const project = _storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getProjectById(projectid);\n    _storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteTodoItem(projectid, todoid);\n    render(project.name);\n  }\n\n  return {\n    render,\n    root,\n    container\n  };\n})();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (show);\n\n\n//# sourceURL=webpack:///./src/components/show.js?");

/***/ })

}]);